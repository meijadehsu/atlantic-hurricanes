<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 4</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <link rel="stylesheet" href="./style.css">
    <style>
        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
            text-align: center;
        }

        .cell {
            height: 10px;
            width: 10px;
        }

        .line-plot {
            fill: none;
            stroke-width: 1.5px;
            stroke: blue;
        }
    </style>
</head>
<body>
    <div id="main">
      <h1>Assignment 4 - Analysis of Atlantic storms from 1975-2020
      </h1>
      <h3> Made by MeiJade Hsu, Stefan Obradovic, and Erik Kelemen
      </h3>
      <div id="viz1">
        <div id="pressure_vs_wind">
            <svg width="720" height="400" style="border: 1px solid #777;">
            </svg>
        </div>
        <div id="pressure_vs_wind_legend">
            <table>
                <tr>
                    <th>Storm Category</th>
                    <th>Color</th>
                </tr>
                <tr>
                    <td>Tropical depression</td>
                    <td class="cell" style="background-color: darkgreen"></td>
                </tr>
                <tr>
                    <td>Tropical storm</td>
                    <td class="cell" style="background-color: limegreen"></td>
                </tr>
                <tr>
                    <td>1</td>
                    <td class="cell" style="background-color: gold"></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td class="cell" style="background-color: darkorange"></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td class="cell" style="background-color: hotpink"></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td class="cell" style="background-color: red"></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td class="cell" style="background-color: darkblue"></td>
                </tr>
            </table>
        </div>
        <br>

        <!-- Storms per Year -->
        <div id="storms_per_year">
            <p>A popular question in hurricane science is, "Have hurricanes been getting more frequent over time?"
                Our analysis shows that <b>hurricanes have not been getting more frequent over time</b>. Here is a
                chart of the number of storms (tropical depressions, tropical storms, and hurricanes) each year from
                1975-2020. While it may seem that storms were rare in the 70s, this is because multiple years in the
                70s had missing data. For example, according to the chart, which plots the data from the data set,
                there were only 3 storms in 1975. However, in
                <a href="https://en.wikipedia.org/wiki/1975_Atlantic_hurricane_season">real life</a>,
                there were 23 storms in 1975. This means that the data is biased due to underreporting of storms in
                some years of the data set.
            </p>
            <p>In addition, while there may appear to be a spike in the number of storms on the far right of the
                chart, this is due to the 2020 hurricane season, which had the most number of storms on record. The
                2021 season (which is not in our data set, but for which there is data
                <a href="https://en.wikipedia.org/wiki/2021_Atlantic_hurricane_season">online</a>)
                had 21 storms, which would have caused the line to come back down from its peak in 2020.
            </p>
            <p>Thus, given underreporting of storms in some years and the lack of a sustained increase in the number
                of storms per year, we conclude that there is not enough evidence to prove that hurricanes have been
                getting more frequent over time.
            </p>
            <svg width="720" height="400" style="border: 1px solid #777;">
            </svg>
        </div>
      </div>
      <div id="viz2">
      <svg width="400" height="600" id="plot2" style="border: 1px solid #777;">
      </svg>
    </div>
    <p>The dynamic visualization below plots the location of all Atlantic storms (tropical depressions, tropical storms, and hurricanes) occurring between 1975 to 2020 grouped by the month in which each storm occurred. The path of each storm is plotted using the geolocation recorded over the course of 6 hour intervals and the paths of all storms that occurred in a given month over this period are all plotted together. The shade of each point encodes the category of the storm with the least powerful storms (tropical depressions) appearing in a light shade and the most powerful storms (category 5 hurricanes) appearing in a dark shade. Additionally, the diameter of each circle is directly proportional to the diameter of tropical-storm-force winds recorded for the storm. The user can zoom in or out of the map and drag it to a location of interest or slide the moving bar above the visualization to better understand local impacts of storms on a month-to-month basis.
    </p>
    <p>From this visualization, we can gather several insights. First, by moving the monthly slider above the visualization, we can see that storms are few in number in the beginning of the year from January to June (with no storms recorded in the months of February and March), rise to a peak in September, and decrease over the remaining months of the year. Additionally, it is clear that the frequency of strong storms both in terms of size (the diameter of tropical-storm-force winds) and in terms of category peaks from August to October, the late summer and early autumn months. A higher number of storms also make landfall in the United States in these exact same months. By following the trajectory of individual storms, we can also see that a high percentage of storms originate off the coast of West Africa and from the Caribbean, travel west, and curve up towards the Gulf of Mexico or along the Eastern Seaboard of the United States. None of the recorded storms ever make contact with Africa or Europe, and very few storms have made contact with South America.
    </p>
    <div>
        <form>
          <input type="range" id="value" value="1" step="1" min="1" max="12" oninput="outputUpdate(value)">
          <output for=value id="output">January</output>
        </form>
        <div id="map" style="height: 640px; width: 680px; border: 1px solid #777;"></div>

	         <rect height="40" width="40" x="800" y="10"/>
    </div>
    </div>

</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
<script src="http://d3js.org/d3.v5.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
<script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
<script src="./d3-tip.js"></script>
<script src="./main.js"></script>
</html>
